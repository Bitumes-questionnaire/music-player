<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Lecteur Audio AvancÃ©</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Orbitron', sans-serif;
      background: #0d0d0d;
      color: white;
      padding: 40px 20px;
      text-align: center;
    }

    h1 {
      color: #0ff;
      text-shadow: 0 0 10px #0ff, 0 0 30px #0ff;
      margin-bottom: 30px;
    }

    .track {
      display: flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 15px;
      padding: 15px;
      margin: 20px auto;
      max-width: 800px;
      transition: all 0.3s ease;
      box-shadow: 0 0 8px #0ff2;
    }

    .track.active {
      box-shadow: 0 0 25px #00ffff, inset 0 0 10px #00ffffaa;
      background-color: rgba(0, 255, 255, 0.1);
    }

    .cover {
      width: 80px;
      height: 80px;
      border-radius: 10px;
      margin-right: 20px;
      object-fit: cover;
      border: 2px solid #0ff;
    }

    .info {
      flex: 1;
      text-align: left;
    }

    .title {
      font-size: 1.1em;
      margin-bottom: 8px;
      font-weight: bold;
    }

    audio {
      width: 100%;
    }

    @media (max-width: 600px) {
      .track {
        flex-direction: column;
        align-items: flex-start;
      }

      .cover {
        margin-bottom: 10px;
      }

      .info {
        text-align: center;
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <h1>ðŸŽ§ BibliothÃ¨que Audio</h1>

  <!-- Exemple de musique locale ou distante -->
  <div class="track" data-index="0">
    <img class="cover" src="https://i1.sndcdn.com/artworks-000208777820-kgtgrf-t500x500.jpg" alt="Cover">
    <div class="info">
      <div class="title">Pal Pal Mashup â€“ Afusic</div>
      <audio controls preload="none">
        <source src="https://yourdomain.com/music/PalPalMashup.mp3" type="audio/mpeg">
      </audio>
    </div>
  </div>

  <div class="track" data-index="1">
    <img class="cover" src="https://i1.sndcdn.com/artworks-000137166221-uvuqrr-t500x500.jpg" alt="Cover">
    <div class="info">
      <div class="title">Ultras Fanatic Reds â€“ La Banda Loca</div>
      <audio controls preload="none">
        <source src="https://yourdomain.com/music/UltrasFanatic.mp3" type="audio/mpeg">
      </audio>
    </div>
  </div>

  <div class="track" data-index="2">
    <img class="cover" src="https://cdn-icons-png.flaticon.com/512/727/727245.png" alt="Cover">
    <div class="info">
      <div class="title">ChaÃ¢bi Traditionnel</div>
      <audio controls preload="none">
        <source src="https://yourdomain.com/music/ChaabiTraditionnel.mp3" type="audio/mpeg">
      </audio>
    </div>
  </div>

  <!-- Default audio image if none -->
  <template id="default-cover">
    https://cdn-icons-png.flaticon.com/512/149/149386.png
  </template>

  <script>
    const allTracks = document.querySelectorAll('.track');
    const allAudios = document.querySelectorAll('audio');

    allAudios.forEach((audio, idx) => {
      audio.addEventListener('play', () => {
        // Pause all others
        allAudios.forEach((a, i) => {
          if (a !== audio) {
            a.pause();
            a.currentTime = 0;
            allTracks[i].classList.remove('active');
          }
        });

        // Highlight active track
        allTracks[idx].classList.add('active');
      });

      audio.addEventListener('ended', () => {
        // Playlist automatique : lecture suivante
        let nextIdx = idx + 1;
        if (nextIdx < allAudios.length) {
          allTracks[nextIdx].scrollIntoView({ behavior: "smooth", block: "center" });
          setTimeout(() => {
            allAudios[nextIdx].play();
          }, 1000);
        }
      });
    });
  </script>

</body>
</html>
