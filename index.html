<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Lecteur Audio Local + Upload</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    body { margin:0; padding:20px; font-family:'Roboto',sans-serif; background:#121212; color:#eee; }
    h1 { text-align:center; margin-bottom:20px; }
    .controls { text-align:center; margin-bottom:20px; }
    .btn-download { display:inline-block; background:#0ff; color:#000; padding:10px 20px; border:none;
      border-radius:6px; text-decoration:none; font-weight:500; margin-left:10px; cursor:pointer;
      box-shadow:0 4px 10px rgba(0,255,255,0.5); transition:0.2s; }
    .btn-download:hover { background:#fff; color:#0ff; transform:scale(1.05); }
    .upload input { display:none; }
    .btn-upload { display:inline-block; background:#555;color:#eee;padding:10px 20px;border-radius:6px;
      cursor:pointer; box-shadow:0 4px 8px rgba(0,0,0,0.5); transition:0.2s; }
    .btn-upload:hover { background:#666; }
    audio { width:100%; margin-top:10px; }
  </style>
</head>
<body>

  <h1>ðŸŽµ Lecteur Audio Local + Upload</h1>

  <div class="controls">
    <!-- Lecteur audio global -->
    <audio id="player" controls preload="none">
      <source src="musics/Ultras Fanatic Reds - La Banda Loca _ Ø²ÙŠØ¯ÙŠ ÙƒØ§Ø³(MP3_160K).mp3" type="audio/mpeg">
      Ton navigateur ne supporte pas l'audio HTML5.
    </audio>

    <!-- Bouton TÃ©lÃ©charger -->
    <a id="btnDownload" class="btn-download" href="musics/Ultras Fanatic Reds - La Banda Loca _ Ø²ÙŠØ¯ÙŠ ÙƒØ§Ø³(MP3_160K).mp3" download>
      TÃ©lÃ©charger la musique
    </a>
  </div>

  <!-- Section Upload -->
  <div class="upload" style="text-align:center;">
    <label for="fileInput" class="btn-upload">âž• Ajouter et Lire un fichier MP3</label>
    <input type="file" id="fileInput" accept=".mp3">
  </div>

  <script>
    const player = document.getElementById('player');
    const btnDownload = document.getElementById('btnDownload');
    const fileInput = document.getElementById('fileInput');

    fileInput.addEventListener('change', () => {
      const file = fileInput.files[0];
      if (!file) return;

      const url = URL.createObjectURL(file);
      player.src = url;
      player.play();

      btnDownload.href = url;
      btnDownload.download = file.name;
      btnDownload.textContent = `TÃ©lÃ©charger : ${file.name}`;
    });

    // Stop les instances multiples
    player.addEventListener('play', () => {
      // Rien d'autre ici (un seul lecteur global)
    });
  </script>

</body>
</html>
